import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Url, Geo Coordinates, ticket Pricing, Time  travel each of the location for 3 days with each day plan with best\ntime to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a JSON-formatted travel plan for a 3-day Las Vegas trip on a budget for a couple, including hotel options and a detailed itinerary:\n\n```json\n{\n  "trip_details": {\n    "location": "Las Vegas, Nevada",\n    "duration": "3 Days",\n    "budget": "Cheap/Budget-Friendly",\n    "travelers": "Couple"\n  },\n  "hotel_options": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$50 - $100 per night",\n      "hotelImageURL": "https://example.com/circuscircus.jpg",\n      "geoCoordinates": { "latitude": 36.1383, "longitude": -115.1641 },\n      "rating": 3.8,\n      "description": "Family-friendly hotel with a variety of entertainment options, including a circus and arcade. Offers basic, budget-friendly accommodations."\n    },\n    {\n      "hotelName": "Strat Hotel, Casino & SkyPod",\n      "hotelAddress": "2000 S Las Vegas Blvd, Las Vegas, NV 89104",\n      "price": "$60 - $120 per night",\n      "hotelImageURL": "https://example.com/strat.jpg",\n       "geoCoordinates": { "latitude": 36.1463, "longitude": -115.1553 },\n      "rating": 4.0,\n      "description": "Features an iconic tower with thrill rides and observation deck, plus affordable rooms. Located a bit north of the main strip but easily accessible by bus or taxi."\n    },\n    {\n        "hotelName": "Excalibur Hotel & Casino",\n        "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$70 - $130 per night",\n        "hotelImageURL": "https://example.com/excalibur.jpg",\n         "geoCoordinates": { "latitude": 36.0985, "longitude": -115.1740},\n        "rating": 4.1,\n         "description":"Medieval-themed hotel with affordable rooms, multiple dining options, a pool complex, and is positioned at the south end of the strip."\n      }\n\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "Exploring the Central Strip",\n      "bestTimeToVisit": "Late Morning/Afternoon",\n      "places": [\n        {\n          "placeName": "The Bellagio Conservatory & Botanical Gardens",\n          "placeDetails": "Beautiful, free indoor botanical gardens that change with the seasons. Located inside the Bellagio Hotel.",\n          "placeImageURL": "https://example.com/bellagio_gardens.jpg",\n          "geoCoordinates": { "latitude": 36.1129, "longitude": -115.1750 },\n          "ticketPricing": "Free",\n          "timeToTravel": "10-15 minutes walk or Bus ride"\n        },\n        {\n          "placeName": "The Bellagio Fountains",\n          "placeDetails": "Iconic free water show set to music, occurring every 30 minutes in the afternoon and every 15 minutes in the evening. ",\n          "placeImageURL": "https://example.com/bellagio_fountains.jpg",\n          "geoCoordinates": { "latitude": 36.1129, "longitude": -115.1750 },\n          "ticketPricing": "Free",\n            "timeToTravel": "0 minutes walk, right outside botanical garden"\n        },\n        {\n          "placeName": "Walk The Las Vegas Strip",\n          "placeDetails": "Enjoy a leisure walk of Las Vegas Strip, take in the sights and sounds, and observe different architecture and themes of different casinos, and various street performers",\n           "placeImageURL": "https://example.com/lasvegasstrip.jpg",\n           "geoCoordinates": { "latitude": 36.1173, "longitude": -115.1742 },\n           "ticketPricing": "Free",\n           "timeToTravel": "Walkable distance"\n        },\n         {\n          "placeName": "Mirage Volcano Show",\n          "placeDetails": "Free spectacular volcano eruption display which happens in the evening. Located outside the Mirage Hotel",\n           "placeImageURL": "https://example.com/mirage_volcano.jpg",\n           "geoCoordinates": { "latitude": 36.1211, "longitude": -115.1738},\n           "ticketPricing": "Free",\n            "timeToTravel": "15-20 minutes walk from the Bellagio"\n        }\n\n      ]\n    },\n    "day2": {\n      "theme": "Downtown Las Vegas & Fremont Street",\n      "bestTimeToVisit": "Late Afternoon/Evening",\n       "places": [\n        {\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "Pedestrian mall with a giant video screen, light shows, street performers, and casinos. A vibrant and free experience. ",\n           "placeImageURL": "https://example.com/fremont_street.jpg",\n           "geoCoordinates": { "latitude": 36.1700, "longitude": -115.1400 },\n           "ticketPricing": "Free",\n             "timeToTravel": "Bus or Car ride 15-20 minutes from the strip."\n        },\n         {\n          "placeName": "Container Park",\n          "placeDetails": "Unique shopping and dining experience made from shipping containers. Located near Fremont Street. ",\n           "placeImageURL": "https://example.com/container_park.jpg",\n           "geoCoordinates": { "latitude": 36.1668, "longitude": -115.1356 },\n           "ticketPricing": "Free to enter, but shopping and food have costs",\n            "timeToTravel": "5-10 minutes walk from Fremont street"\n\n        },\n        {\n          "placeName": "Mob Museum",\n          "placeDetails": "An interactive museum about the history of organized crime in America. A bit on the pricier side, but informative. Optional.",\n           "placeImageURL": "https://example.com/mob_museum.jpg",\n           "geoCoordinates": { "latitude": 36.1697, "longitude": -115.1421 },\n           "ticketPricing": "$29.95 per adult",\n            "timeToTravel": "5-10 minutes walk from Fremont Street"\n        }\n        ]\n    },\n    "day3": {\n      "theme": "South Strip and Relaxation",\n      "bestTimeToVisit": "Morning/Afternoon",\n      "places": [\n        {\n          "placeName": "Visit the \'Welcome to Fabulous Las Vegas\' Sign",\n          "placeDetails": "Take a classic photo at the iconic sign located at the south end of the Strip. A classic and popular free photo opportunity.",\n           "placeImageURL": "https://example.com/welcome_sign.jpg",\n           "geoCoordinates": { "latitude": 36.0829, "longitude": -115.1722 },\n           "ticketPricing": "Free",\n            "timeToTravel": "Bus ride or Car ride from Fremont street 15-20 minutes."\n        },\n         {\n            "placeName": "Explore M&M\'s World & Coca-Cola Store",\n            "placeDetails":"Two fun, colorful shops to explore, even if not buying. Located near the south part of the strip. A good way to spend time indoors and escape the heat.",\n            "placeImageURL": "https://example.com/mmworld.jpg",\n           "geoCoordinates": { "latitude": 36.1046, "longitude": -115.1727 },\n            "ticketPricing": "Free to enter, but shopping has costs",\n            "timeToTravel": "Bus ride or walk 10-15 minutes from Las Vegas sign"\n        },\n         {\n          "placeName": "Pool Time at Hotel",\n          "placeDetails": "Most Las Vegas hotels have swimming pools. Take some time to relax by the pool to cool off and enjoy the sun.",\n           "placeImageURL": "https://example.com/hotel_pool.jpg",\n           "geoCoordinates": { "latitude": "hotel_latitude", "longitude": "hotel_longitude" },\n           "ticketPricing": "Free for hotel guests",\n            "timeToTravel": "Located at the hotel"\n\n        }\n\n\n      ]\n    }\n  }\n}\n```\n\n**Important Notes:**\n\n*   **Image URLs:** The image URLs provided are placeholders (e.g., `https://example.com/hotel.jpg`).  You\'ll need to replace these with actual image URLs.\n*   **Prices:** Hotel and ticket prices are estimates and can vary. Always check current prices when booking.\n*   **Transportation:** This itinerary assumes the use of walking, public transportation (bus), or budget-friendly ride-sharing services to minimize costs.\n*   **Food:** Eating on the cheap can be done by seeking out deals, buffets, and food courts on the strip and downtown.\n*   **Geo Coordinates:** These are approximate and can be used for mapping in tools like Google Maps. The "hotel_latitude", "hotel_longitude" for pool are placeholders. To customize those update the geo coordinates for the hotel you selected to book and include them in the list.\n*   **Flexibility:**  This is just a suggested itinerary. Feel free to adjust it based on your interests.\n\nLet me know if you\'d like any part of this expanded or modified!\n',
        },
      ],
    },
  ],
});
